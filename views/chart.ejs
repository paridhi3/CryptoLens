<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CryptoLens</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="styles/main.css">
        <script src='https://cdn.plot.ly/plotly-2.35.2.min.js'></script>
    </head>

    <body>
        <h1>CryptoLens</h1>

        <div id="ohlc-result"><!-- Plotly chart will be drawn inside this DIV -->
            <% if (result) { %>
                <script>
                        const trace = {
                            x: result.x, // Dates should now be in ISO format
                            open: result.open,
                            high: result.high,
                            low: result.low,
                            close: result.close,
                            type: 'ohlc',
                            increasing: { line: { color: '#17BECF' } },
                            decreasing: { line: { color: '#7F7F7F' } },
                        };
                
                        const layout = {
                            title: 'OHLC Chart',
                            dragmode: 'zoom',
                            xaxis: {
                                title: 'Date',
                                type: 'date',
                            },
                            yaxis: {
                                title: 'Price',
                                type: 'linear',
                            }
                        };
                
                        Plotly.newPlot('ohlc-result', [trace], layout);
                </script>
                
                
                <% } %>

        </div>


    </body>

</html>